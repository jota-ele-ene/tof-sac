<!doctype html>
<html> 
  <head></head> 
  <!-- https://tokboxquickstart.herokuapp.com/cdxhbppqyi -->
  <body> 
    <div id='myPublisherDiv'></div> 
    <div id='subscribersDiv'></div> 
    
    <script src='js/opentok.min.js'></script> 
  <!--  <script> 
      var apiKey = '45315992';
      var sessionId = '1_MX40NTMxNTk5Mn5-MTQ0MDE0OTY0MTM5OX5QdGhwa081WlprQ0xhMEhsaHVuODVZYWh-UH4'; 
      var token = 'T1==cGFydG5lcl9pZD00NTMxNTk5MiZzaWc9OTBmYjdlNTY2MTA2YzZhMWE0NDFiYWQ0ZDAzYjhjZjg0YWYxOWY1NDpyb2xlPXB1Ymxpc2hlciZzZXNzaW9uX2lkPTFfTVg0ME5UTXhOVGs1TW41LU1UUTBNREUwT1RZME1UTTVPWDVRZEdod2EwODFXbHByUTB4aE1FaHNhSFZ1T0RWWllXaC1VSDQmY3JlYXRlX3RpbWU9MTQ0MDE1MTMxMyZub25jZT0wLjIwOTM5MjYyMDkxNDc4MDE3JmV4cGlyZV90aW1lPTE0NDA3NTM3MTYmY29ubmVjdGlvbl9kYXRhPQ==';
      var session = OT.initSession(apiKey, sessionId); 
      session.on({ 
          streamCreated: function(event) { 
            session.subscribe(event.stream, 'subscribersDiv', {insertMode: 'append', showControls: true}); 
          } 
      }); 
      session.connect(token, function(error) {
        if (error) {
          console.log(error.message);
        } else {
          session.publish('myPublisherDiv', {width: 320, height: 240, name: "Pepito", showControls: true}); 
        }
      });
    </script> -->

	<button id="demo" onclick="myFunction()">Iniciar Sesi贸n</button>

	<button id="demo2" onclick="myFunction2()">Finalizar Sesi贸n</button>
	  
	<script>
			function myFunction() {
			
			  var apiKey = '45315992';
			  var sessionId = '1_MX40NTMxNTk5Mn5-MTQ0MDE0OTY0MTM5OX5QdGhwa081WlprQ0xhMEhsaHVuODVZYWh-UH4'; 
			  var token = 'T1==cGFydG5lcl9pZD00NTMxNTk5MiZzaWc9OTBmYjdlNTY2MTA2YzZhMWE0NDFiYWQ0ZDAzYjhjZjg0YWYxOWY1NDpyb2xlPXB1Ymxpc2hlciZzZXNzaW9uX2lkPTFfTVg0ME5UTXhOVGs1TW41LU1UUTBNREUwT1RZME1UTTVPWDVRZEdod2EwODFXbHByUTB4aE1FaHNhSFZ1T0RWWllXaC1VSDQmY3JlYXRlX3RpbWU9MTQ0MDE1MTMxMyZub25jZT0wLjIwOTM5MjYyMDkxNDc4MDE3JmV4cGlyZV90aW1lPTE0NDA3NTM3MTYmY29ubmVjdGlvbl9kYXRhPQ==';
			  var session = OT.initSession(apiKey, sessionId); 
			  session.on({ 
				  streamCreated: function(event) { 
					session.subscribe(event.stream, 'subscribersDiv', {insertMode: 'append', showControls: true}); 
				  } 
			  }); 
			  session.connect(token, function(error) {
				if (error) {
				  console.log(error.message);
				} else {
				  session.publish('myPublisherDiv', {width: 800, height: 600, showControls: true}); 
				  console.log('Te has conectado a la sesi贸n');
				}
			  });
			  document.getElementById("demo").style.visibility = "hidden";
			  document.getElementById("demo2").style.visibility = "visible";
			  
		}
		</script>

		<script>
			function myFunction2() {
			
			  var apiKey = '45315992';
			  var sessionId = '1_MX40NTMxNTk5Mn5-MTQ0MDE0OTY0MTM5OX5QdGhwa081WlprQ0xhMEhsaHVuODVZYWh-UH4'; 
			  var token = 'T1==cGFydG5lcl9pZD00NTMxNTk5MiZzaWc9OTBmYjdlNTY2MTA2YzZhMWE0NDFiYWQ0ZDAzYjhjZjg0YWYxOWY1NDpyb2xlPXB1Ymxpc2hlciZzZXNzaW9uX2lkPTFfTVg0ME5UTXhOVGs1TW41LU1UUTBNREUwT1RZME1UTTVPWDVRZEdod2EwODFXbHByUTB4aE1FaHNhSFZ1T0RWWllXaC1VSDQmY3JlYXRlX3RpbWU9MTQ0MDE1MTMxMyZub25jZT0wLjIwOTM5MjYyMDkxNDc4MDE3JmV4cGlyZV90aW1lPTE0NDA3NTM3MTYmY29ubmVjdGlvbl9kYXRhPQ==';
			  var session = OT.initSession(apiKey, sessionId); 
			  session.disconnect();
				console.log('Te has desconectado a la sesi贸n');
			  document.getElementById("demo").style.visibility = "visible";
			 document.getElementById("demo2").style.visibility = "hidden";
		}
		</script>
  </body> 
</html>  